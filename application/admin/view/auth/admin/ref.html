<form id="edit-form" class="form-horizontal" role="form" data-toggle="validator" method="POST" action="">
    {:token()}
    <div class="form-group">
        <label for="url" class="control-label col-xs-12 col-sm-2">AFF 链接:</label>
        <div class="col-xs-8 col-sm-8">
                <input id="url" data-rule="" class="form-control"  type="text" value="{$url}" disabled>
        </div>
    </div>
    <div class="form-group">
        <label for="qrcode" class="control-label col-xs-12 col-sm-2">QR code:</label>
        <div class="col-xs-8 col-sm-8">
            <div id="qrcode" style="width:100px; height:100px; margin-top:15px;"></div>
        </div>
    </div>
<!--    <div class="form-group">-->
<!--        <div class="col-xs-8 col-sm-8">-->
<!--        <button type="button" class="btn btn-success btn-aff">生成</button>-->
<!--        </div>-->
<!--    </div>-->

<!--    <div class="form-group layer-footer">-->
<!--        <label class="control-label col-xs-12 col-sm-2"></label>-->
<!--        <div class="col-xs-12 col-sm-8">-->
<!--            <button type="submit" class="btn btn-primary btn-embossed disabled">{:__('OK')}</button>-->
<!--            <button type="reset" class="btn btn-default btn-embossed">{:__('Reset')}</button>-->
<!--        </div>-->
<!--    </div>-->
</form>
<script type="text/javascript" src="__CDN__/assets/js/jquery.min.js"></script>
<script type="text/javascript" src="__CDN__/assets/js/qrcode.min.js"></script>
<script type="text/javascript">
    var qrcode = new QRCode(document.getElementById("qrcode"), {
        width : 100,
        height : 100
    });
    makeCode();
    function makeCode () {
        var elText = document.getElementById("url");
        qrcode.makeCode(elText.value);
    }

    // $(".btn-aff").on("click", function () {
    //     makeCode();
    // })
</script>